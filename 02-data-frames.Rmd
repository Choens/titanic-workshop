---
title: "A Titanic Introduction to R"
subtitle: "Data Frames"
output:
  ioslides_presentation:
    widescreen: TRUE
    logo: "img/titanic.jpg"
---

## Workbook

- You can run the code in these slides by opening
  `02-data-frames.R` and following along.
- **ALL** of the code you see on the screen today is in your
  workbook.
- You will learn more if you see the code run for yourself.
    - *This is technically an untested hypothesis. Sorry.*

## Learning Objectives

- Data Frames
- Working Directory
- Import CSV
- Filtering and Using Data Frames
- Getting Help

```{r 02-DATA-FRAMES, echo=FALSE,eval=TRUE,purl=TRUE}

## Learning Objectives -----------------
## - Data Frames
## - Working Directory
## - Import CSV
## - Filtering and Using Data Frames
## - Getting Help

## The slides for this presentation can be gotten at:
## https://choens.github.io/titanic-workshop/01-introduction-to-r.html

```

# Data Frames

<img src="img/titanic-cobh-harbour-1912.jpg" width=75%>

## What is a Data Frame?

- Historically - called a data.frame.
- Vectors are 1-dimensional *(length)*.
- Vectors can contain only one data type *(integer, character, date)*.
    - Vectors containing multiple data types are characters.
- Data frames are multi-dimensional.
    - Today, 2-dimensional data frames only.
    - There is *no* limit to the dimensionality of your data.
- Data frames can contain multiple data types.
    - This is enormously useful for analytical projects.
- This data structure is one of R's key competitive advantages.
    - Pandas!

```{r WHAT-IS-A-DATA-FRAME, echo=FALSE,eval=TRUE,purl=TRUE}

## - Historically - called a data.frame.
## - Vectors are 1-dimensional *(length)*.
## - Vectors can contain only one data type *(integer, character, date)*.
##     - Vectors containing multiple data types are characters.
## - Data frames are multi-dimensional.
##     - Today, 2-dimensional data frames only.
##     - There is *no* limit to the dimensionality of your data.
## - Data frames can contain multiple data types.
##     - This is enormously useful for analytical projects.
## - This data structure is one of R's key competitive advantages.
##     - Pandas!

```


## Your First Data Frame {.smaller}

- R comes with demo data sets.
- Many of these are data frames.

```{r YOUR-FIRST-DATA-FRAME,echo=TRUE,eval=TRUE,purl=TRUE}

## This loads the iris data set.
## It provides the measurements in centimeters of the variables
## sepal length and width and petal length and width, respectively, for
## 50 flowers from each of 3 species of iris. The species are Iris
## setosa, versicolor, and virginica.
data(iris)

```

Three Ways To View A Data Frame:

1. Use the RStudio Interface. Bottom-right pane
2. Use the view command.  `View(iris)`.
3. Enter the name of the data fram into the REPL console.
    - Easiest, but inefficient for large data sets.

## Data Frame Dimensions

```{r DATA-FRAME-DIMENSIONS,echo=TRUE,eval=TRUE,purl=TRUE}

## How many rows and how many columns are in iris?
dim(iris)

```

Returns:

>- `[1] 150   5`
>- Always: Rows, Columns

```{r DATA-FRAME-COL-NAMES,echo=TRUE,eval=TRUE,purl=TRUE, results='hide'}

## What are the name of the columns?
names(iris)

```

Returns:

>- [1] "Sepal.Length" "Sepal.Width"  "Petal.Length" "Petal.Width"  "Species"

## Access A Column

```{r ACCESS-A-COLUMN,echo=TRUE,eval=TRUE,purl=TRUE, results='hide'}

## R makes it EASY to access a single column of data
## (and thus use it in an analysis).
iris$Sepal.Length

```

- This returns a lot of data I won't print here.

```{r AVERAGE-SEPAL-LENGTH,echo=TRUE,eval=TRUE,purl=TRUE, results='hide'}

## The Sepal.Length column is numeric, so we can find the average Sepal.Length
mean( iris$Sepal.Length )

```

Returns:

>- `[1] 5.843333`
>- R is picky. Capitalization ALWAYS matter.

## Lower Case Column Names

```{r LOWER-CASE-COLUMN-NAMES,echo=TRUE,eval=TRUE,purl=TRUE, results='hide'}

## I hate typing in capital letters in column names.
## We can use the tolower function to make them lower case.
## We can then assign these new names to the col names of the
## data object, which makes life better.
names(iris) <- tolower( names(iris) )

names(iris)

```

Returns:

>- `[1] "sepal.length" "sepal.width"  "petal.length" "petal.width"  "species"`

## <img src="img/captain-smith-super-small.jpg" height=50px> Practice: Load A Data Frame

```{r PRACTICE-LOAD-A-DATA-FRAME, echo=TRUE,eval=TRUE,purl=TRUE, results='hide'}

## Q1: Load the 'mtcars' data set
##     mtcars is a data set on cars from the late 70's.


## Q2: What is the average miles per gallon (mpg) and the standard deviation?
##     The 'mean' and 'sd' functions will be helpful.

```

# Importing Data

<img src="img/titanic-cobh-harbour-1912.jpg" width=75%>

## Working Directory

- Like most programming languages, R has a working directory.
    - This is "root" folder of a project.
    - This concept is critical when using external files.
- Fortunately, you do not have to do this manually!

<div style="display:inline-block; margin:1 auto; float:left; width:48%; text-align: left;">

#### Displays current working directory:
<br/>
```{r echo=TRUE}

getwd()

```

</div>

<div style="display:inline-block; margin:1 auto; float:right; width:48%;  text-align: left;">

#### Sets current working directory:

<br/>
```{r echo=TRUE, eval=FALSE}

setwd("/home/andy/my-funky-repo")

```

</div>

## Working Directory Continued

- If you use RStudio, you can create projects and define the default
  working directory for each project.
- You should set your working directory to the root directory of the
  Git repo, titanic-workshop.

***** Time to start using TITANIC data.
***** I need a screenshot.


<div class="notes">

### PAUSE!

- The working directory concept is important because we are going to
  be importing data and functions into a live R session.
- Does everyone understand what their working directory should be?

</div>

# Import CSV

<img src="img/titanic-cobh-harbour-1912.jpg" width=75%>

## See Files

- For today's purposes, paths can be assumed to be relative to the
  working directory.

<div style="display:inline-block; margin:1 auto; float:left; width:48%; text-align: left;">

```{r echo=TRUE, eval=FALSE}

## Files in current working directory.
dir()

```

</div>

<div style="display:inline-block; margin:1 auto; float:right; width:48%; text-align: left;">

```{r echo=TRUE}

## Files in the data directory.
dir("data")

```

</div>

## Import / View Data

```{r echo=TRUE, eval=FALSE}

train <- read.csv("data/train.csv", as.is=TRUE)   ## Imports CSV data into R.


str(train)   ## Compactly display the structure of an arbitrary R object.


View(train)   ## Will open as a seaparate window, unless you are using RStudio.
              ## If you are using RStudio, it will open the data in the IDE.

```

# HELP!

<img src="img/titanic-cobh-harbour-1912.jpg" width=75% style="display:block;margin-left:auto;margin-right:auto">

## Local Help!

#### What Was That Command?

```{r LOCAL-HELP-EXTENSION, echo=TRUE,eval=FALSE,purl=TRUE}

## When you can't remember the name of the command you
## are looking for, RStudio offers command and variable
## completion to help make life easier.
is.

```

#### Help!

```{r LOCAL-HELP-HELP, echo=TRUE,eval=FALSE,purl=FALSE}

## Sometimes you need help with a specific command.
## R's built-in help is good. Not perfect. But good.
help(round)

## Hackers are universally lazy (that's why we became
## hackers). Typing help is too much work. A question
## mark accomplishes the same thing.
?round

```

- Of course, RStudio makes it easy to fina and use R's built-in help
system.
- I suppose most of you will just use that.

## Remote Help

- Getting help from others is AWESOME!
- StackOverflow: https://stackoverflow.com/
- Search the [r] tag!
